# Dev environment — minimal footprint, no scheduled backups.
# This file is self-contained (bcgov/action-crunchy only reads this one file).
crunchy:
  pgDatabase: soba
  postgresVersion: 16
  openshift: true

  instances:
    - name: db
      replicas: 1
      dataVolumeClaimSpec:
        storage: 500Mi
        storageClassName: netapp-block-standard

  # pgBackRest: PGO requires at least one repo (used internally for replica bootstrap).
  # All schedules are null — no CronJobs, no scheduled backup pods.
  pgBackRestConfig:
    repos:
      - name: repo1
        volume:
          volumeClaimSpec:
            storage: 256Mi
            storageClassName: netapp-file-backup
        schedules:
          full: ~
          incremental: ~
        retention:
          full: 1
          fullType: count

  pgBouncerConfig:
    replicas: 1
    requests:
      cpu: 10m
      memory: 64Mi
    limits:
      cpu: 50m
      memory: 128Mi
    config:
      global:
        pool_mode: transaction
        max_client_conn: "100"
        default_pool_size: "20"

  pgmonitor:
    enabled: false
