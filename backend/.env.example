
# FormIO (credentials in .env.local)
# Local Form.io from .devcontainer/docker-compose.yml (formio@localhost.com / formio)
FORMIO_BASE_URL=http://host.docker.internal:3001
FORMIO_ADMIN_USERNAME=
FORMIO_ADMIN_PASSWORD=
FORMIO_MANAGER_USERNAME=
FORMIO_MANAGER_PASSWORD=

# Form engine plugin (versioned)
FORM_ENGINE_DEFAULT_CODE=formio-v5

# Form.io v5 plugin config (PLUGIN_FORMIO_V5_* â€” no legacy FORMIO_* fallback)
PLUGIN_FORMIO_V5_API_BASE_URL=http://host.docker.internal:3001
PLUGIN_FORMIO_V5_ADMIN_API_URL=http://host.docker.internal:3001
PLUGIN_FORMIO_V5_RENDER_API_URL=http://host.docker.internal:3001
PLUGIN_FORMIO_V5_ADMIN_USERNAME=
PLUGIN_FORMIO_V5_ADMIN_PASSWORD=
PLUGIN_FORMIO_V5_MANAGER_USERNAME=
PLUGIN_FORMIO_V5_MANAGER_PASSWORD=
# PLUGIN_FORMIO_V5_PROJECT_PATH=
# PLUGIN_FORMIO_V5_VERSION=v5

# Future: formio-v4 side-by-side (same keys, different prefix)
# PLUGIN_FORMIO_V4_API_BASE_URL=
# PLUGIN_FORMIO_V4_ADMIN_API_URL=
# PLUGIN_FORMIO_V4_RENDER_API_URL=
# PLUGIN_FORMIO_V4_ADMIN_USERNAME=
# PLUGIN_FORMIO_V4_ADMIN_PASSWORD=
# PLUGIN_FORMIO_V4_MANAGER_USERNAME=
# PLUGIN_FORMIO_V4_MANAGER_PASSWORD=
# PLUGIN_FORMIO_V4_PROJECT_PATH=
# PLUGIN_FORMIO_V4_VERSION=v4

# JWT / Auth (BC Gov dev Keycloak)
JWT_ISSUER=https://dev.loginproxy.gov.bc.ca/auth/realms/standard
JWT_AUDIENCE=connected-services-submit-6349
JWKS_URI=https://dev.loginproxy.gov.bc.ca/auth/realms/standard/protocol/openid-connect/certs

# Session (set in .env.local)
SESSION_SECRET=

# Role mapping
ROLE_FIELD=client_roles
ADMIN_ROLE_NAME=TMS.OPERATIONS_ADMIN
MANAGER_ROLE_NAME=TMS.OPERATIONS_MANAGER

# Optional: example JWT for testing
EXAMPLE_JWT=

# Application
NODE_ENV=development

# Database (workspace-first SOBA core)
DATABASE_URL=postgres://postgres:postgres@localhost:5432/soba
DB_ADMIN_DATABASE=postgres

# Outbox worker
OUTBOX_POLL_INTERVAL_MS=5000
SYSTEM_SOBA_USER_ID=

# Workspace plugin resolver hints
# Enterprise plugin may use these headers from gateway:
# x-enterprise-workspace-id, x-cstar-tenant-id

# Workspace plugins (feature-sliced plugin activation/config)
WORKSPACE_PLUGINS_ENABLED=enterprise-cstar,personal-local
WORKSPACE_PLUGINS_STRICT_MODE=false

# Enterprise CSTAR plugin config
PLUGIN_ENTERPRISE_CSTAR_HEADER_KEYS=x-enterprise-workspace-id,x-cstar-tenant-id
PLUGIN_ENTERPRISE_CSTAR_REQUIRE_EXTERNAL_HEADER=false

# Personal local plugin config
PLUGIN_PERSONAL_LOCAL_COOKIE_KEY=soba_workspace_id
PLUGIN_PERSONAL_LOCAL_ALLOW_HEADER_OVERRIDE=true